<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weather App</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
</head>
<style>
    #weather {
        background-color: #0099E9;
        background-image: linear-gradient(160deg, #0093E9 0%, #80D0C7 100%);
    }
</style>

<body>
    <div class="container">
        <div class="row">
            <div class="col-md-8 mt-5 mb-1 p-5" id="weather">
                <div id="weatherdetails">
                    <div class="text-center">
                        <img src="https://s3-us-west-2.amazonaws.com/rpmmultisite/wp-content/uploads/sites/205/2018/09/24153603/colorful-hot-air-balloon-picture-id841064058-1024x1024.jpg"
                            alt="" width="250px">
                    </div>
                    <!-- <ul style="list-style-type: none; color: white;">
                        <li class="mt-4">Country:</li>
                        <li class="mt-3">City:</li>
                        <li class="mt-3">Temperature:</li>
                        <li class="mt-3">Min Temperature:</li>
                        <li class="mt-3">Max Temperature:</li>
                        <li class="mt-3">Humidity:</li>
                        <li class="mt-3">Pressure:</li>
                        <li class="mt-3">Wind Speed:</li>
                    </ul> -->
                    <div id="result">
                        
                    </div>
                </div>

            </div>
            <div class="col-md-4 mt-5 mb-1 p-5" style="background-color: teal;">
                <h4 class="text-center text-light">Weather Condition</h4>
                <div class="d-flex mt-3">
                    <input type="text" class="form-control" placeholder="Enter a city">
                    <button type="button" class="btn btn-primary ms-3" onclick="fetchWeatherDetails()">Search</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        function fetchWeatherDetails() {
            const http = new XMLHttpRequest();
            http.open('get', 'https://api.openweathermap.org/data/2.5/weather?q=kakkanad&appid=8e21e00b9bc53215038bd9c1741b2a65');
            http.send();
            http.onreadystatechange = () => {
                console.log(http.readyState);
                if (http.readyState == 4) {
                    let item = JSON.parse(http.responseText);
                    // data.forEach(item => {
                    //     result.innerHTML +=
                    //         `ul
                    //     <li>${item.sys.country}</li>
                    //     <li>${item.name}</li>
                    //     <li>${item.main.temp}</li>
                    //     <li>${item.main.temp_min}</li>
                    //     <li>${item.main.temp_max}</li>
                    //     <li>${item.main.humidity}</li>
                    //     <li>${item.main.pressure}</li>
                    //     <li>${item.wind.speed}</li>
                    // </ul`
                    // })
                    console.log(item);
                    result.innerHTML +=
                            `<ul style="list-style-type: none; color: white;">
                        <li>Country: ${item.sys.country}</li>
                        <li>City: ${item.name}</li>
                        <li>Temperature: ${item.main.temp}</li>
                        <li>Min Temperature: ${item.main.temp_min}</li>
                        <li>Max Temperature: ${item.main.temp_max}</li>
                        <li>Humidity: ${item.main.humidity}</li>
                        <li>Pressure: ${item.main.pressure}</li>
                        <li>Wind Speed: ${item.wind.speed}</li>
                    </ul`
                }
            }
        }
    </script>

</body>

</html>